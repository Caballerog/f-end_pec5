{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{ffW3:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),states_user=__webpack_require__(\"dnXt\"),offers=__webpack_require__(\"OVFJ\"),core=__webpack_require__(\"fXoL\"),store=__webpack_require__(\"kt0X\");const _c0=function(a0){return[a0]};function OffersListComponent_tr_22_Template(rf,ctx){if(1&rf&&(core.Pb(0,\"tr\"),core.Pb(1,\"td\"),core.lc(2),core.Ob(),core.Pb(3,\"td\"),core.lc(4),core.Ob(),core.Pb(5,\"td\"),core.lc(6),core.Ob(),core.Pb(7,\"td\"),core.lc(8),core.Ob(),core.Pb(9,\"td\"),core.lc(10),core.Ob(),core.Pb(11,\"td\"),core.lc(12),core.Ob(),core.Pb(13,\"td\"),core.lc(14),core.Ob(),core.Pb(15,\"td\"),core.Pb(16,\"a\",3),core.lc(17,\"Ver Detalle\"),core.Ob(),core.Ob(),core.Ob()),2&rf){const offer_r48=ctx.$implicit;core.Cb(2),core.mc(offer_r48.job.name),core.Cb(2),core.mc(offer_r48.company.name),core.Cb(2),core.mc(offer_r48.category.name),core.Cb(2),core.mc(offer_r48.date),core.Cb(2),core.mc(offer_r48.province.name),core.Cb(2),core.mc(offer_r48.municipe.name),core.Cb(2),core.mc(offer_r48.subscribe?\"Sí\":\"No\"),core.Cb(2),core.cc(\"routerLink\",core.fc(8,_c0,offer_r48.id))}}function OffersListComponent_tr_41_Template(rf,ctx){if(1&rf&&(core.Pb(0,\"tr\"),core.Pb(1,\"td\"),core.lc(2),core.Ob(),core.Pb(3,\"td\"),core.lc(4),core.Ob(),core.Pb(5,\"td\"),core.lc(6),core.Ob(),core.Pb(7,\"td\"),core.lc(8),core.Ob(),core.Pb(9,\"td\"),core.lc(10),core.Ob(),core.Pb(11,\"td\"),core.lc(12),core.Ob(),core.Nb(13,\"td\"),core.Ob()),2&rf){const offer_r49=ctx.$implicit;core.Cb(2),core.mc(offer_r49.job.name),core.Cb(2),core.mc(offer_r49.company.name),core.Cb(2),core.mc(offer_r49.category.name),core.Cb(2),core.mc(offer_r49.date),core.Cb(2),core.mc(offer_r49.province.name),core.Cb(2),core.mc(offer_r49.municipe.name)}}let offers_list_component_OffersListComponent=(()=>{class OffersListComponent{constructor(){this.offersStudy=[],this.offersOther=[]}ngOnChanges(changes){changes.user&&changes.offers&&this.selectOffers()}selectOffers(){const studiesOfUser=this.user.studies,offersOfUser=this.user.offers;this.offersStudy=this.offers.filter(offer=>studiesOfUser.some(study=>study.uid===offer.category.uid)).map(offer=>{const offerUser=!!offersOfUser.find(_offerUser=>_offerUser.id===offer.id);return Object.assign(Object.assign({},offer),{subscribe:offerUser})}),this.offersOther=this.offers.filter(offer=>studiesOfUser.every(study=>study.uid!==offer.category.uid))}}return OffersListComponent.ɵfac=function(t){return new(t||OffersListComponent)},OffersListComponent.ɵcmp=core.Gb({type:OffersListComponent,selectors:[[\"app-offers-list\"]],inputs:{user:\"user\",offers:\"offers\"},features:[core.Ab()],decls:42,vars:2,consts:[[1,\"table\",\"table-bordered\",\"table-striped\"],[1,\"thead-light\"],[4,\"ngFor\",\"ngForOf\"],[2,\"cursor\",\"pointer\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core.Pb(0,\"h3\"),core.lc(1,\"Cumple con la Titulación (Familia)\"),core.Ob(),core.Pb(2,\"table\",0),core.Pb(3,\"thead\",1),core.Pb(4,\"tr\"),core.Pb(5,\"th\"),core.lc(6,\"Puesto\"),core.Ob(),core.Pb(7,\"th\"),core.lc(8,\"Empresa\"),core.Ob(),core.Pb(9,\"th\"),core.lc(10,\"Familia\"),core.Ob(),core.Pb(11,\"th\"),core.lc(12,\"Fecha\"),core.Ob(),core.Pb(13,\"th\"),core.lc(14,\"Provincia\"),core.Ob(),core.Pb(15,\"th\"),core.lc(16,\"Municipio\"),core.Ob(),core.Pb(17,\"th\"),core.lc(18,\"Inscrito\"),core.Ob(),core.Pb(19,\"th\"),core.lc(20,\"Acciones\"),core.Ob(),core.Ob(),core.Ob(),core.Pb(21,\"tbody\"),core.kc(22,OffersListComponent_tr_22_Template,18,10,\"tr\",2),core.Ob(),core.Ob(),core.Pb(23,\"h3\"),core.lc(24,\"Otras Ofertas\"),core.Ob(),core.Pb(25,\"table\",0),core.Pb(26,\"thead\",1),core.Pb(27,\"tr\"),core.Pb(28,\"th\"),core.lc(29,\"Puesto\"),core.Ob(),core.Pb(30,\"th\"),core.lc(31,\"Empresa\"),core.Ob(),core.Pb(32,\"th\"),core.lc(33,\"Familia\"),core.Ob(),core.Pb(34,\"th\"),core.lc(35,\"Fecha\"),core.Ob(),core.Pb(36,\"th\"),core.lc(37,\"Provincia\"),core.Ob(),core.Pb(38,\"th\"),core.lc(39,\"Municipio\"),core.Ob(),core.Ob(),core.Ob(),core.Pb(40,\"tbody\"),core.kc(41,OffersListComponent_tr_41_Template,14,6,\"tr\",2),core.Ob(),core.Ob()),2&rf&&(core.Cb(22),core.cc(\"ngForOf\",ctx.offersStudy),core.Cb(19),core.cc(\"ngForOf\",ctx.offersOther))},directives:[common.k,router.g],encapsulation:2}),OffersListComponent})();const offers_profile_component_c0=function(a1){return[\"/admin/offers/\",a1]};function OffersProfileComponent_tr_20_Template(rf,ctx){if(1&rf&&(core.Pb(0,\"tr\"),core.Pb(1,\"td\"),core.lc(2),core.Ob(),core.Pb(3,\"td\"),core.lc(4),core.Ob(),core.Pb(5,\"td\"),core.lc(6),core.Ob(),core.Pb(7,\"td\"),core.lc(8),core.Ob(),core.Pb(9,\"td\"),core.lc(10),core.Ob(),core.Pb(11,\"td\"),core.lc(12),core.Ob(),core.Pb(13,\"td\"),core.Pb(14,\"a\",3),core.lc(15,\"Ver Detalle\"),core.Ob(),core.Ob(),core.Ob()),2&rf){const offer_r51=ctx.$implicit;core.Cb(2),core.mc(offer_r51.job.name),core.Cb(2),core.mc(offer_r51.company.name),core.Cb(2),core.mc(offer_r51.category.name),core.Cb(2),core.mc(offer_r51.date),core.Cb(2),core.mc(offer_r51.province.name),core.Cb(2),core.mc(offer_r51.municipe.name),core.Cb(2),core.cc(\"routerLink\",core.fc(7,offers_profile_component_c0,offer_r51.id))}}let offers_profile_component_OffersProfileComponent=(()=>{class OffersProfileComponent{constructor(){this.offers=[]}ngOnChanges(){this.offers=this.user.offers}}return OffersProfileComponent.ɵfac=function(t){return new(t||OffersProfileComponent)},OffersProfileComponent.ɵcmp=core.Gb({type:OffersProfileComponent,selectors:[[\"app-offers-profile\"]],inputs:{user:\"user\"},features:[core.Ab()],decls:21,vars:1,consts:[[1,\"table\",\"table-bordered\",\"table-striped\"],[1,\"thead-light\"],[4,\"ngFor\",\"ngForOf\"],[2,\"cursor\",\"pointer\",3,\"routerLink\"]],template:function(rf,ctx){1&rf&&(core.Pb(0,\"h3\"),core.lc(1,\"Mis Ofertas\"),core.Ob(),core.Pb(2,\"table\",0),core.Pb(3,\"thead\",1),core.Pb(4,\"tr\"),core.Pb(5,\"th\"),core.lc(6,\"Puesto\"),core.Ob(),core.Pb(7,\"th\"),core.lc(8,\"Empresa\"),core.Ob(),core.Pb(9,\"th\"),core.lc(10,\"Familia\"),core.Ob(),core.Pb(11,\"th\"),core.lc(12,\"Fecha\"),core.Ob(),core.Pb(13,\"th\"),core.lc(14,\"Provincia\"),core.Ob(),core.Pb(15,\"th\"),core.lc(16,\"Municipio\"),core.Ob(),core.Pb(17,\"th\"),core.lc(18,\"Acciones\"),core.Ob(),core.Ob(),core.Ob(),core.Pb(19,\"tbody\"),core.kc(20,OffersProfileComponent_tr_20_Template,16,9,\"tr\",2),core.Ob(),core.Ob()),2&rf&&(core.Cb(20),core.cc(\"ngForOf\",ctx.offers))},directives:[common.k,router.g],encapsulation:2}),OffersProfileComponent})();function OffersComponent_app_offers_list_2_Template(rf,ctx){if(1&rf&&(core.Nb(0,\"app-offers-list\",2),core.ac(1,\"async\"),core.ac(2,\"async\")),2&rf){const ctx_r38=core.Zb();core.cc(\"user\",core.bc(1,2,ctx_r38.user$))(\"offers\",core.bc(2,4,ctx_r38.offers$))}}function OffersComponent_app_offers_profile_3_Template(rf,ctx){if(1&rf&&(core.Nb(0,\"app-offers-profile\",3),core.ac(1,\"async\")),2&rf){const ctx_r39=core.Zb();core.cc(\"user\",core.bc(1,1,ctx_r39.user$))}}let offers_component_OffersComponent=(()=>{class OffersComponent{constructor(route,store$){this.route=route,this.store$=store$,this.isOffersList=!0,this.route.data.subscribe(params=>this.isOffersList=!params.my_offers),this.user$=this.store$.select(states_user.b),this.offers$=this.store$.select(offers.c)}ngOnInit(){}}return OffersComponent.ɵfac=function(t){return new(t||OffersComponent)(core.Mb(router.a),core.Mb(store.h))},OffersComponent.ɵcmp=core.Gb({type:OffersComponent,selectors:[[\"app-offers\"]],decls:4,vars:2,consts:[[3,\"user\",\"offers\",4,\"ngIf\"],[3,\"user\",4,\"ngIf\"],[3,\"user\",\"offers\"],[3,\"user\"]],template:function(rf,ctx){1&rf&&(core.Pb(0,\"h2\"),core.lc(1,\" Offers\\n\"),core.Ob(),core.kc(2,OffersComponent_app_offers_list_2_Template,3,6,\"app-offers-list\",0),core.kc(3,OffersComponent_app_offers_profile_3_Template,2,3,\"app-offers-profile\",1)),2&rf&&(core.Cb(2),core.cc(\"ngIf\",ctx.isOffersList),core.Cb(1),core.cc(\"ngIf\",!ctx.isOffersList))},directives:[common.l,offers_list_component_OffersListComponent,offers_profile_component_OffersProfileComponent],pipes:[common.b],styles:[\"\"]}),OffersComponent})();var map=__webpack_require__(\"lJxs\"),switchMap=__webpack_require__(\"eIep\"),actions=__webpack_require__(\"dS7W\");function OffersDetailComponent_button_5_Template(rf,ctx){if(1&rf){const _r43=core.Qb();core.Pb(0,\"button\",2),core.Xb(\"click\",(function($event){return core.hc(_r43),core.Zb().subscribe()})),core.lc(1,\" Inscribirse\\n\"),core.Ob()}}function OffersDetailComponent_button_6_Template(rf,ctx){if(1&rf){const _r45=core.Qb();core.Pb(0,\"button\",3),core.Xb(\"click\",(function($event){return core.hc(_r45),core.Zb().unsubscribe()})),core.lc(1,\" Eliminar oferta\\n\"),core.Ob()}}let offers_detail_component_OffersDetailComponent=(()=>{class OffersDetailComponent{constructor(){this.subscribeOffer=new core.n,this.unsubscribeOffer=new core.n}subscribe(){const offers=[...this.user.offers,this.offer],user=Object.assign(Object.assign({},this.user),{offers:offers});this.subscribeOffer.emit(user)}unsubscribe(){const offers=this.user.offers.filter(_offer=>_offer.id!==this.offer.id),user=Object.assign(Object.assign({},this.user),{offers:offers});this.unsubscribeOffer.emit(user)}isSubscribe(){return!(!this.user||!this.user.offers.find(_offer=>this.offer.id===_offer.id))}}return OffersDetailComponent.ɵfac=function(t){return new(t||OffersDetailComponent)},OffersDetailComponent.ɵcmp=core.Gb({type:OffersDetailComponent,selectors:[[\"app-offers-detail\"]],inputs:{offer:\"offer\",user:\"user\"},outputs:{subscribeOffer:\"subscribeOffer\",unsubscribeOffer:\"unsubscribeOffer\"},decls:7,vars:5,consts:[[\"class\",\"btn btn-primary\",3,\"click\",4,\"ngIf\"],[\"class\",\"btn btn-danger\",3,\"click\",4,\"ngIf\"],[1,\"btn\",\"btn-primary\",3,\"click\"],[1,\"btn\",\"btn-danger\",3,\"click\"]],template:function(rf,ctx){1&rf&&(core.Pb(0,\"h2\"),core.lc(1,\" Offers Detail\\n\"),core.Ob(),core.Pb(2,\"pre\"),core.lc(3),core.ac(4,\"json\"),core.Ob(),core.kc(5,OffersDetailComponent_button_5_Template,2,0,\"button\",0),core.kc(6,OffersDetailComponent_button_6_Template,2,0,\"button\",1)),2&rf&&(core.Cb(3),core.nc(\"\",core.bc(4,3,ctx.offer),\" \"),core.Cb(2),core.cc(\"ngIf\",!ctx.isSubscribe()),core.Cb(1),core.cc(\"ngIf\",ctx.isSubscribe()))},directives:[common.l],pipes:[common.f],styles:[\"\"]}),OffersDetailComponent})();const routes=[{path:\"\",component:offers_component_OffersComponent},{path:\"my-offers\",component:offers_component_OffersComponent,data:{my_offers:!0}},{path:\":id\",component:(()=>{class OffersDetailWrapperComponent{constructor(store$,route){this.store$=store$,this.route=route,this.user$=this.store$.select(states_user.b),this.offer$=this.route.params.pipe(Object(map.a)(({id:id})=>Number.parseInt(id)),Object(switchMap.a)(id=>this.store$.select(Object(offers.b)(id))))}onSubscribeOffer(user){this.store$.dispatch(new actions.l(user))}onUnsubscribeOffer(user){this.store$.dispatch(new actions.l(user))}}return OffersDetailWrapperComponent.ɵfac=function(t){return new(t||OffersDetailWrapperComponent)(core.Mb(store.h),core.Mb(router.a))},OffersDetailWrapperComponent.ɵcmp=core.Gb({type:OffersDetailWrapperComponent,selectors:[[\"app-offers-detail-wrapper\"]],decls:3,vars:6,consts:[[3,\"user\",\"offer\",\"subscribeOffer\",\"unsubscribeOffer\"]],template:function(rf,ctx){1&rf&&(core.Pb(0,\"app-offers-detail\",0),core.Xb(\"subscribeOffer\",(function($event){return ctx.onSubscribeOffer($event)}))(\"unsubscribeOffer\",(function($event){return ctx.onUnsubscribeOffer($event)})),core.ac(1,\"async\"),core.ac(2,\"async\"),core.Ob()),2&rf&&core.cc(\"user\",core.bc(1,2,ctx.user$))(\"offer\",core.bc(2,4,ctx.offer$))},directives:[offers_detail_component_OffersDetailComponent],pipes:[common.b],encapsulation:2}),OffersDetailWrapperComponent})()}];let offers_routing_module_OffersRoutingModule=(()=>{class OffersRoutingModule{}return OffersRoutingModule.ɵmod=core.Kb({type:OffersRoutingModule}),OffersRoutingModule.ɵinj=core.Jb({factory:function(t){return new(t||OffersRoutingModule)},imports:[[router.h.forChild(routes)],router.h]}),OffersRoutingModule})();__webpack_require__.d(__webpack_exports__,\"OffersModule\",(function(){return offers_module_OffersModule}));let offers_module_OffersModule=(()=>{class OffersModule{}return OffersModule.ɵmod=core.Kb({type:OffersModule}),OffersModule.ɵinj=core.Jb({factory:function(t){return new(t||OffersModule)},imports:[[common.c,offers_routing_module_OffersRoutingModule]]}),OffersModule})()}}]);","extractedComments":[]}